<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
	</head>
	<body>
		
		<script src="js/pixi.min.js"></script>
		<script>
		var  app = new PIXI.Application(370,660);
		document.body.appendChild(app.view);
		
		var bg = new PIXI.Sprite.fromImage("res/bj.png");
		app.stage.addChild(bg);
		bg.scale.set(0.15,0.15);
		
		var role = new PIXI.Sprite.fromImage("res/rw.png");
		role.anchor.set(0.5,0.5);
		app.stage.addChild(role);
		role.scale.set(0.17,0.17);
		role.x=230;
		role.y=65;
		
		var dj = new PIXI.Sprite.fromImage("res/dj.png");
		app.stage.addChild(dj);
		dj.anchor.set(0.5,0.5);
		dj.scale.set(0.08,0.08);
		dj.y=89;
		dj.x=155;
		
		
		var gz = new PIXI.Sprite.fromImage("res/gz1.png");
		var gz2 = new PIXI.Sprite.fromImage("res/gz2.png");
		app.stage.addChild(gz);
		app.stage.addChild(gz2);
		gz.anchor.set(0.5,0.5);
		gz2.anchor.set(0.5,0.5);
		gz.scale.set(0.35,0.35);
		gz2.scale.set(0.4,0.4);
		gz.y=140;
		gz.x=155;
		gz2.visible=false;
		
		
		
		var pz1 = new PIXI.Sprite.fromImage("res/1.png");
		app.stage.addChild(pz1);
		pz1.anchor.set(0.5,0.5);
		pz1.scale.set(0.1,0.1);
		pz1.y=480;
		pz1.x=355;

		
		var pz2 = new PIXI.Sprite.fromImage("res/2.png");
		app.stage.addChild(pz2);
		pz2.anchor.set(0.5,0.5);
		pz2.scale.set(0.1,0.1);
		pz2.y=520;
		pz2.x=100;
		
		
		var pz11 = new PIXI.Sprite.fromImage("res/11.png");
		var pz22 = new PIXI.Sprite.fromImage("res/22.png");
		app.stage.addChild(pz11);
		app.stage.addChild(pz22);
		
		//pz11.visible=false;
		//pz22.visible=false;
		//pz11.x=200;
		//pz11.y=300;
		//pz11.x=100;
		//pz11.y=200;
		pz11.scale.set(0.1,0.1);
		pz22.scale.set(0.3,0.3);
		pz11.anchor.set(0.5,0.5);
		pz22.anchor.set(0.5,0.5);
		pz11.x=pz1.x;
		pz11.y=pz1.y;
		pz22.x=pz2.x-5;
		pz22.y=pz2.y-10;
		pz11.visible=false;
		pz22.visible=false;
		
		var sj1 = new PIXI.Sprite.fromImage("res/sj.png");
		var pz111 = new PIXI.Sprite.fromImage("res/11.png");
		app.stage.addChild(sj1);
		app.stage.addChild(pz111);
		pz111.anchor.set(0.5,0.5);
		pz111.scale.set(0.03,0.03);
		sj1.anchor.set(0.5,0.5);
		sj1.scale.set(0.06,0.06);
		sj1.x=50;
		sj1.y=640;
		pz111.x=sj1.x;
		pz111.y=sj1.y;
		pz111.visible=false;
		
		var sj2 = new PIXI.Sprite.fromImage("res/sj.png");
		var pz222 = new PIXI.Sprite.fromImage("res/22.png");
		app.stage.addChild(sj2);
		app.stage.addChild(pz222);
		pz222.anchor.set(0.5,0.5);
		pz222.scale.set(0.15,0.15);
		pz222.x=100;
		pz222.y=635;
		pz222.visible=false;
		sj2.anchor.set(0.5,0.5);
		sj2.scale.set(0.06,0.06);
		sj2.x=100;
		sj2.y=640;
		
		var sj3 = new PIXI.Sprite.fromImage("res/sj.png");
		app.stage.addChild(sj3);
		sj3.anchor.set(0.5,0.5);
		sj3.scale.set(0.06,0.06);
		sj3.x=150;
		sj3.y=640;
		
		var sj4 = new PIXI.Sprite.fromImage("res/sj.png");
		app.stage.addChild(sj4);
		sj4.anchor.set(0.5,0.5);
		sj4.scale.set(0.06,0.06);
		sj4.x=200;
		sj4.y=640;
		
		var sj5 = new PIXI.Sprite.fromImage("res/sj.png");
		app.stage.addChild(sj5);
		sj5.anchor.set(0.5,0.5);
		sj5.scale.set(0.06,0.06);
		sj5.x=250;
		sj5.y=640;
		
		var sj6 = new PIXI.Sprite.fromImage("res/sj.png");
		app.stage.addChild(sj6);
		sj6.anchor.set(0.5,0.5);
		sj6.scale.set(0.06,0.06);
		sj6.x=300;
		sj6.y=640;
		
		//变量区
		var speed = 1;
		
		var go1 = false;
		var go2 = false;
		var go3 = false;
		var go4 = false;
		var go5 = false;
		var go6 = false;
		
		var back1 = false;
		var back2 = false;
		var back3 = false;
		var back4 = false;
		var back5 = false;
		var back6 = false;
		
		var sj1 =false;
		var sj2 =false;
		var sj3 =false;
		var sj4 =false;
		var sj5 =false;
		var sj6 =false;
		
		
		
		//隐藏图片
		
		
		
		
		
		
		app.ticker.add(animate);
		function animate()
		{
				fpz1();
				fpz2();
		}
		
		
		pz1.interactive = true;
		pz1.on("click",take_1);
		function take_1()
		{
			gz.rotation=-0.6;
			go1=true;
			sj1=false;
		}
		
		pz2.interactive = true;
		pz2.on("click",take_2);
		function take_2()
		{
			gz.rotation=0.2;
			go2=true;
			sj2=false;
		}
		
		
		
		function fpz1()
		{
			if(go1)
			{
				if(gz.x!==pz1.x)gz.x=gz.x+0.6;
				if(gz.y!==pz1.y)gz.y++;
				gz2.x=gz.x;
				gz2.y=gz.y;
				console.log(gz.x);
				if(gz.y-pz1.y<=280 && gz.y-pz1.y>=0)
				{
					
					gz.visible=false;
					gz2.visible=true;
					back1=true;
					go1=false;
				}
				
			}
			if(back1)
			{
				
				//t.Text("back");
				if(gz.x>140)gz.x=gz.x-0.6;
				if(gz.y>150)gz.y=gz.y-1;
				gz2.x=gz.x;
				gz2.y=gz.y;
				pz1.visible=false;
				pz11.visible=true;
				pz11.x=gz2.x;
				pz11.y=gz2.y;
				console.log(gz.x,gz.y);
				
				if(gz.x<=145 && gz.y<=150)
				{
					//pz11.visible=false;
					pz111.visible=true;
					sj1=true;
					back1=false;
					//pz11.scale.x=0.01;
					//pz11.scale.y=0.01;
					gz.visible=true;
					gz2.visible=false;
					gz.rotation=0;
					console.log(sj1);
				}
			}
			if(sj1)
			{
				
				
				if(pz11.scale.x>0.02)
				{
					pz11.scale.x-=0.001;
					pz11.scale.y-=0.001;
					pz11.x-=1;
					pz11.y+=6;
					console.log(pz11.scale.x,pz11.scale.y);
				}
				
			}
		}

		
		function fpz2()
		{
			if(go2)
			{
				if(gz.x!==pz2.x)gz.x=gz.x-0.15;
				if(gz.y!==pz2.y)gz.y++;
				gz2.x=gz.x;
				gz2.y=gz.y;
				console.log(gz.x);
				if(gz.y-pz2.y<=280 && gz.y-pz2.y>=0)
				{
					
					gz.visible=false;
					gz2.visible=true;
					back2=true;
					go2=false;
				}
			}
			if(back2)
			{
				
				//t.Text("back");
				if(gz.x<140)gz.x=gz.x+0.12;
				if(gz.y>150)gz.y=gz.y-1;
				gz2.x=gz.x;
				gz2.y=gz.y;
				pz2.visible=false;
				pz22.visible=true;
				pz22.x=gz2.x;
				pz22.y=gz2.y;
				console.log(gz.x,gz.y);
				
				if(gz.x<=145 && gz.y<=150)
				{
					//pz11.visible=false;
					pz222.visible=true;
					sj2=true;
					back2=false;
					//pz11.scale.x=0.01;
					//pz11.scale.y=0.01;
					gz.visible=true;
					gz2.visible=false;
					gz.rotation=0;
					console.log(sj2);
				}
			}
			if(sj2)
			{
				
				
				if(pz22.scale.x>0.02)
				{
					pz22.scale.x-=0.001;
					pz22.scale.y-=0.001;
					pz22.x-=0.5;
					pz22.y+=6;
					console.log(pz22.scale.x,pz22.scale.y);
				}
				
			}
		}
		
		
		
		</script>
		
		
	</body>
</html>